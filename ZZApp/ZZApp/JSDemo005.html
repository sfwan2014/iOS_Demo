<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

	<head>
		<link href="demo.css" rel="stylesheet" />
	</head>
	<body>
	<div id="wrapper" class="bg">
		<div id="div1" onclick="deleteNode()">
		<p id="p1"></p>
		</div>
		<div class="input">
			<input id="message" type="text" value="aaa" />
			<button class="submit" onclick="submitMethod()">提交</button>
		</div>
	</div>
	<script>
		var text;
		function submitMethod(){
			var ipt=document.getElementById("message");
			text=ipt.value;
//			ipt.value="";
			if (text.length>0){
				
				receiveMessageToHTML("HTML",text);
				
				window.location=sendMessageToOC();
				;
				window.onload();
			}
		}
		
		function receiveMessageToHTML(from,txt){
			var para=document.createElement("p");
			var node=document.createTextNode(from+" Send: "+txt);
			para.appendChild(node);
			
			var element=document.getElementById("div1");
			element.appendChild(para);
		}
		function sendMessageToOC(){
			return text;
		}
		var i=0;
		function deleteNode(){
			var array=document.getElementsByTagName("p");
			var child=array[array.length-1];
			
			if (child.parentNode != undefined) {
				child.parentNode.removeChild(child);
				i++;
			}
		}
		
		
	</script>
	
	</body>
</html>